{"version":3,"sources":["../src/proofdict-repo-util.js"],"names":["getDictJSONURL","getRuleURL","urlJoin","require","options","dictURL","jsonAPI","rule","ruleBase","encodeURIComponent","id"],"mappings":"AAAA;AACA;;;;;;;;QAOgBA,c,GAAAA,c;QAYAC,U,GAAAA,U;AAlBhB,IAAMC,UAAUC,QAAQ,UAAR,CAAhB;;AAEA;;;;AAIO,SAASH,cAAT,CAAwBI,OAAxB,EAAiC;AACpC,QAAI,QAAOA,QAAQC,OAAf,MAA2B,QAA3B,IAAuC,OAAOD,QAAQC,OAAR,CAAgBC,OAAvB,KAAmC,QAA9E,EAAwF;AACpF,eAAOF,QAAQC,OAAR,CAAgBC,OAAvB;AACH;AACD,WAAOJ,QAAQE,QAAQC,OAAhB,EAAyB,iBAAzB,CAAP;AACH;;AAED;;;;;AAKO,SAASJ,UAAT,CAAoBG,OAApB,EAA6BG,IAA7B,EAAmC;AACtC,QAAI,CAACA,IAAL,EAAW;AACP;AACH;AACD;AACA,QAAI,QAAOH,QAAQC,OAAf,MAA2B,QAA3B,IAAuC,OAAOD,QAAQC,OAAR,CAAgBG,QAAvB,KAAoC,QAA/E,EAAyF;AACrF,eAAUJ,QAAQC,OAAR,CAAgBG,QAA1B,SAAsCC,mBAAmBF,KAAKG,EAAxB,CAAtC;AACH;AACD;AACA,QAAIN,QAAQC,OAAZ,EAAqB;AACjB,eAAUD,QAAQC,OAAlB,SAA6BI,mBAAmBF,KAAKG,EAAxB,CAA7B;AACH;AACJ","file":"proofdict-repo-util.js","sourcesContent":["// MIT Â© 2018 azu\n\"use strict\";\nconst urlJoin = require(\"url-join\");\n\n/**\n * @param options\n * @returns {string}\n */\nexport function getDictJSONURL(options) {\n    if (typeof options.dictURL === \"object\" && typeof options.dictURL.jsonAPI === \"string\") {\n        return options.dictURL.jsonAPI;\n    }\n    return urlJoin(options.dictURL, \"dictionary.json\");\n}\n\n/**\n * @param options\n * @param rule\n * @returns {string|undefined}\n */\nexport function getRuleURL(options, rule) {\n    if (!rule) {\n        return;\n    }\n    // http://custom.example.com/base#id\n    if (typeof options.dictURL === \"object\" && typeof options.dictURL.ruleBase === \"string\") {\n        return `${options.dictURL.ruleBase}#${encodeURIComponent(rule.id)}`;\n    }\n    // http://example.com#id\n    if (options.dictURL) {\n        return `${options.dictURL}#${encodeURIComponent(rule.id)}`;\n    }\n}\n"]}