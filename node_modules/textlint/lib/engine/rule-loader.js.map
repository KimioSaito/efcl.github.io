{"version":3,"sources":["../../src/engine/rule-loader.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;AACb,IAAM,cAAc,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAClD,IAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;;;;;;;;AAQtB,SAAS,WAAW,CAAC,QAAQ,EAAmB;QAAjB,OAAO,yDAAG,KAAK;;AACjD,QAAI,oBAAoB,YAAA,CAAC;AACzB,QAAI,CAAC,QAAQ,EAAE;AACX,4BAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;KACxD,MAAM;AACH,4BAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,QAAQ,CAAC,CAAC;KAChE;AACD,QAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAClC,MAAE,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,UAAA,IAAI,EAAI;AACjD,YAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,OAAO,EAAE;AAChC,mBAAO;SACV;AACD,YAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACrC,aAAK,CAAC,UAAU,CAAC,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC,CAAC;KAC7E,CAAC,CAAC;AACH,WAAO,KAAK,CAAC;CAChB","file":"rule-loader.js","sourcesContent":["\"use strict\";\nconst interopRequire = require(\"interop-require\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\n/**\n * Load all rule modules from specified directory.\n * These are filtered by [extname]\n * @param {String} [rulesDir] Path to rules directory, may be relative. Defaults to `lib/rules`.\n * @param {String} [extname] extension name\n * @returns {Object} Loaded rule modules by rule ids (file names).\n */\nexport function loadFromDir(rulesDir, extname = \".js\") {\n    let rulesDirAbsolutePath;\n    if (!rulesDir) {\n        rulesDirAbsolutePath = path.join(__dirname, \"rules\");\n    } else {\n        rulesDirAbsolutePath = path.resolve(process.cwd(), rulesDir);\n    }\n    const rules = Object.create(null);\n    fs.readdirSync(rulesDirAbsolutePath).forEach(file => {\n        if (path.extname(file) !== extname) {\n            return;\n        }\n        const withoutExt = file.slice(0, -3);\n        rules[withoutExt] = interopRequire(path.join(rulesDirAbsolutePath, file));\n    });\n    return rules;\n}\n"]}