---
title: ""
author: azu
layout: post
date : 2015-11-19T10:09
category: JavaScript
tags:
    - 

---

[textlint](https://github.com/textlint/textlint "textlint") 5.0.0をリリースしました。

- [Release 5.0.0: Async support · textlint/textlint](https://github.com/textlint/textlint/releases/tag/5.0.0 "Release 5.0.0: Async support · textlint/textlint")

## 変更点

### Breaking Change

大きな変更点として全てのLint APIが非同期処理となりました。
そのため、以下のメソッドはそれぞれPromiseを返すようになっています。

textlintツール利用者には影響なくて、textlintをモジュールとして使ってる人のみに影響します。

- `TextLintCore#LintFile`
- `TextLintCore#LintText`
- `TextLintEngine#executeOnFiles`
- `TextLintEngine#executeOnText`
- `cli#execute`

```js
var textlint = new TextLintCore();
textlint.lintMarkdown("text").then(result => {
      // 
});
```

## Festures

- ルール内で非同期処理ができるようになりました
- [Rule: async support · Issue #74 · textlint/textlint](https://github.com/textlint/textlint/issues/74 "Rule: async support · Issue #74 · textlint/textlint")

今まではルール内は同期的な処理しか書けませんでしたが、
5.0.0からはpromiseオブジェクトを返すとそのpromiseが解決できるまで結果を待つようになっています。

以下のように非同期処理をルール中に書くことができます。

```js
export default function (context) {
    return {
        [Syntax.Str](node){
            // textlint wait for resolved the promise.
            return new Promise((resolve, reject) => {
                // async task
            });
        }
    }
}
```
