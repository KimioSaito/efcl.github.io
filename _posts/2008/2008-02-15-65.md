---
title: zaurus 3桁機で2GB以上のSDを使うには
author: azu
layout: post
permalink: /2008/0215/res65/
SBM_count:
  - '00000<>1355426824<>0<>0<>0<>0<>0'
dsq_thread_id:
  - 301703019
categories:
  - zaurus
tags:
  - zaurus
---
自分用のメモなので、気にしない。

<!--more-->

[Zaurus SL-C7XX/860 に2GB SD ( 4GBもね )][1]  
が手に入れば問題なさそうなんだけどな。  
もう配布してないのかな？

他の方法

[C750,760、860で大容量SDを使う][2]

これを読んで動作の探索

**ここからの引用http://pc11.2ch.net/test/read.cgi/linux/1147049264/**

結局c760で2GBのSDを使いたければ  
** SD-Link11bドライバ**

A-DATA2GB150倍速SD  
残念ながらsuspendすると認識しなくなる。  
問題は速度ではなくメーカーのようだ。

860でトランセンドの2G(x150)試してみたけど、やっぱ、  
suspendすると手動でmountが必要だった。  
カーネルはv14i ドライバはc-guysのやつ。

あと知らなかったんだけど、vfatしか使えないんだね。  
ext2でフォーマットするとmountできない。  
linkファイルが作れない。  
日本語のフォルダ名/ファイル名が表示されない。  
**→日本語が「？」と表示され、2バイト文字が扱えないので、ルート権限で実行できるようにしたZEditorで「/usr/sbin」にある「sdiomgr」を開き、「mount &#8230;（以下略）」となっている部分を以下のように書き換えます mount -o iocharset=utf8,codepage=932,uid=500,gid=500 $DEV $MNT と書き換え上書き保存します**

A-DATA 2GB の動作検証をレポートします。 SL-C860 & しーがいすなドライバ & Special-Kernel v14i &ROM 1.40JP 以下、箇条書きにて。 1.ext2フォーマットが出来ない。(正確にはmountが出来ない) 　なお、容量は関係なしです。パナ256MBも認識出来なかったので。 　これはドライバの問題のようですね。 2.SDカード上のアプリケーションが立ち上がっている場合、 　リジューム時の再認識に必ず失敗する。 3.再認識はumount->mountで行われる（みたい）。 4.リジューム復帰時に/etc/sdcontrolが引き数insertで呼ばれる 　（これで、umount->mountされる） しーがいずなドライバが完全にリジュームに対応していないだけのような 気がしてきました。。。色々いじってなんとか使用中。 現在の使用状況のレポートや実験が必要なら言ってください。 とりあえず運用中ですので。実験には限界がありますが。。。 かなり制限付きですが、全く再認識しないという訳ではありません。

＞制限というのはSD上のアプリを起動した状態でレジューム不可ということですか？  
そうですね。基本的にはumountが失敗する原因があるとまずいですね。  
1.SD上のアプリが起動中。  
2.swap-offに失敗する。  
3.SD上にckdirしている。  
4.SD上のファイルを開いていて、closeされていない。  
等です。  
ここから、以下の制限が発生します。  
1.頻繁に使用するアプリは本体のCFに移す。  
2.swapはあきらめる。（一時使用程度ですね）  
3.terminalのカレントに気をつける。  
4..navi2chの取り扱いがちょっとめんどうになる。  
ってところですね。

<a href="javascript:void(0)" class="resPointer">>>209</a>  
＞mkfs.ext2 した途端にmountできなくなるんだよね。  
そうですね。私は1GBのext2イメージを作って、/mnt/cardにマウント  
しています。実際のSDは/mnt/vfatに変更しました。loopマウントして  
も思ったより遅くないですよ。

＞suspendの前にアプリ落とすなんてまんどくせ。  
私は通常使うアプリケーションを本体に移して、翻訳辞書をSDに持って  
行きました。現状はq2ch以外（opera/kconsole/emacs）はうまくいって  
いる見たいです。q2chが唯一、タグを閉じなければなりません。

あと、nethelperを使ってちょっとしたスクリプトを起動してます。

＞SD上のファイルをオープンしたままのレジュームはどうなんでしょう？  
＞問題が出そうな気もしますが・・。  
オープンしたままというのは、アプリによります。  
例えば、emacsではオープンしてもすべて読み込む  
とcloseしてしまいますから、問題はでません。  
q2chは開けっ放しにしているようです。たぶん、  
高速化の一環とかじゃないかと思いますが。で、  
q2chのアーティクルモードから出る時は、  
↑↓（メニュー）Ｑ（タブを閉じる）を  
実行しておかないと、リジューム時の再認識に失敗  
します。たぶん、データを含めて本体CFにいれてお  
けば問題ないと思いますが。

 [1]: http://www009.upp.so-net.ne.jp/cakesroom/
 [2]: http://windowsmobile6.blog89.fc2.com/blog-entry-197.html "C7xx、860で大容量SDを使う"